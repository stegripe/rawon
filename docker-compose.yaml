x-common-general: &common-general
  restart: unless-stopped
  deploy:
    resources:
      limits:
        memory: 512M

services:
  rawon:
    <<: *common-general
    image: ghcr.io/stegripe/rawon:latest
    container_name: rawon-bot
    env_file: .env
    networks:
      - net
    volumes:
      - rawon:/app/cache
    # Uncomment below if using browser-based cookie extraction (ENABLE_BROWSER_LOGIN=yes)
    # Make sure to set BROWSER_DEBUG_PORT and BROWSER_INSTRUCTIONS_PORT in your .env file
    # or use the default values: 9222 and 9223
    # ports:
    #   - "${BROWSER_DEBUG_PORT:-9222}:${BROWSER_DEBUG_PORT:-9222}"  # Chrome DevTools remote debugging
    #   - "${BROWSER_INSTRUCTIONS_PORT:-9223}:${BROWSER_INSTRUCTIONS_PORT:-9223}"  # Instructions page

networks:
  net:

volumes:
  rawon:
